# JSONP \- JSON with padding

### **The Limitation of SOP**

While the **Same-Origin Policy (SOP)** effectively addressed security concerns, it introduced a major limitation—it was too restrictive. SOP made it challenging to send requests to different domains, even in cases where cross-origin communication was necessary. Later on, a workaround to this limitation named JSONP was introduced.

## JSONP

JSONP stands for **JSON with Padding.** JSONP is a method for sending JSON data without worrying about cross-domain issues. JSONP does not use the **XMLHttpRequest** object. Standard AJAX requests (**XMLHttpRequest**), are restricted by the browser's same-origin policy. That’s why JSONP uses the **\<script\>** tag instead. JSONP uses advantage of the fact that browsers do not enforce the same-origin policy for \<script\> tags.

<img src="/data/CORS/assets/image3.png">    

						Fig: 01

The following code shows how JSONP works: 

<img src="/data/CORS/assets/image5.png"> 

					    Fig: 02  
The given code demonstrates how JSONP (JSON with Padding) works by making a request to **api.flickr.com** using a `<script>` tag. The \<script\> can be dynamically injected or loaded statically in the web page. In the given example, it is created statically. Traditionally, a `<script>` tag is used to include external JavaScript files. But in this case, it is used to fetch data from the **Flickr API** **Server** wrapped in a javascript function.

The key to a successful JSONP request is the callback function. When initiating a  
JSONP request, the \<script\> tag has a parameter set to the name of the callback function. In figure: 02, the callback function is named **loadPhotos**. The callback function must be present in the client. When sending a response back to the client, the server first pads the response with the name of the callback function (this is where the word JSON with padding comes from).   
For example: 

if the API response looks like this, JSONP would wrap the response in a callback, like this:   
<img src="/data/CORS/assets/image4.png"> 

						Fig: 03

Finally, when the browser receives the server’s response, it actually calls the callback function with the data provided by the server. In this example, the **loadPhotos** callback function defined by the client gets called with the API response data. 

Figure: 04 shows what a typical JSONP flow looks like. 

<img src="/data/CORS/assets/image6.png"> 

						Fig: 04

This approach allows cross-origin data fetching by bypassing the **Same-Origin Policy (SOP)**. 
